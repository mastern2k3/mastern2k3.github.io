(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{302:function(e,t,a){e.exports=a.p+"assets/img/keep_attacking.6637e154.gif"},303:function(e,t,a){e.exports=a.p+"assets/img/set_texture.d6e9af24.gif"},304:function(e,t,a){e.exports=a.p+"assets/img/self_targeting.0acdb52d.gif"},327:function(e,t,a){"use strict";a.r(t);var n=a(42),i=Object(n.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"page-title"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#page-title","aria-hidden":"true"}},[e._v("#")]),e._v(" "+e._s(e.$page.title))]),e._v(" "),n("p",[e._v("The last week was a fun milestone. Up until recently, although the game was\nplayable, you couldn't really get the characters to do what you had in mind for\nthem.")]),e._v(" "),n("p",[e._v("A few behaviors expected from an RTS were missing:")]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("After executing an ability on an enemy the character would stand idle.")]),n("br"),e._v("\nThe expected behavior is to continue with the default auto attack which is\nwhat I ended up implementing.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("After killing an enemy the character would always stand idle.")]),n("br"),e._v("\nThis is pretty much the expected behavior except in the common scenario where\nthere are still nearby enemies, in which case it should continue attacking the\nnext nearby enemy.")])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(302),alt:"Expected behavior"}})]),e._v(" "),n("p",[e._v("On top of those, combat parameters like damage, healing done and cooldown times\nwere never given more than an afterthought.")]),e._v(" "),n("p",[e._v("To get those in order, while spending as little time as possible on development\ntasks I had to implement some tooling.")]),e._v(" "),n("h2",{attrs:{id:"hot-reloading"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hot-reloading","aria-hidden":"true"}},[e._v("#")]),e._v(" Hot reloading")]),e._v(" "),n("p",[e._v("Since most of the game logic is taking place on the server, tuning combat\nparameters and repositioning characters created the constant hurdle of\nre-deploying the server, so, in order to prototype more rapidly I ended up\nimplementing two hot reloading features allowing me to prototype while avoiding\nre-deployment.")]),e._v(" "),n("h4",{attrs:{id:"map-reloading"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#map-reloading","aria-hidden":"true"}},[e._v("#")]),e._v(" Map reloading")]),e._v(" "),n("p",[e._v("Although I did not mention this before, the way the server knows how to\ninstantiate a map is through loading the map scene file from the game editor. So\nuntil I settle on a more dynamic solution, the map has to be prepackaged with\nthe server deployment.")]),e._v(" "),n("p",[e._v("Until I implement a more complete solution for server map loading I added a\ndebug map loading RPC, allowing me to hot-load an alternative map to the main\nmap to be used by the server without having to restart it.")]),e._v(" "),n("h4",{attrs:{id:"character-definition-reloading"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#character-definition-reloading","aria-hidden":"true"}},[e._v("#")]),e._v(" Character definition reloading")]),e._v(" "),n("p",[e._v('All characters on the map are loaded through character "templates" that, until\nrecently, were hard-coded in the server. Again, forcing me to restart the server\nto implement changes.')]),e._v(" "),n("p",[e._v("Here I wanted more leeway. I wanted to be able to change character\nspecifications way more rapidly because I'm predicting a lot of minute tuning\nwill be required for those, possibly during an active match.")]),e._v(" "),n("p",[n("em",[e._v("That")]),e._v(" required two things:")]),e._v(" "),n("ol",[n("li",[n("p",[e._v('Character "templates" should be serializable to allow editing and\ntransmission while the server is up. I landed on a simple JSON containing all\nparameters.')])]),e._v(" "),n("li",[n("p",[e._v('A server RPC allowing the injection and re-instantiation of new character\n"templates" while a match is running.')])])]),e._v(" "),n("p",[e._v("To make the solution more complete I also ended up developing a helper tool\nthat, when directed, watches a local file for changes and injects the new\ncontents to the server.")]),e._v(" "),n("p",[e._v("All this required a lot of work but the end result is satisfying.")]),e._v(" "),n("p",[n("img",{attrs:{src:a(303),alt:"Template hot reloading"}})]),e._v(" "),n("h3",{attrs:{id:"additional-progress"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#additional-progress","aria-hidden":"true"}},[e._v("#")]),e._v(" Additional progress")]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("Breakthrough with native client")]),n("br"),e._v("\nAlthough I've overcome most problems with Godot's C# runtime, there's no\ndenying the benefits of a native build. In the past few weeks I've managed to\nsuccessfully tie up my critical dependencies (WebSockets, OpenAPI and Godot)\nunder Rust using the "),n("a",{attrs:{href:"https://github.com/GodotNativeTools/godot-rust",target:"_blank",rel:"noopener noreferrer"}},[e._v("godot-rust"),n("OutboundLink")],1),e._v(" native tool repo, ensuring that door is\nopen.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("Dedicated server")]),n("br"),e._v('\nAs the first step toward publishing a playable "test-demo" I\'ve set up a\ndedicated ToM server ready to host matches. The server is working perfectly\nand in the next week or so I\'ll publish a "test-demo" allowing me and curious\ngamers to showcase and test the game mechanics.')])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("Self targeting abilities")]),e._v(' - As part of adding a new "Shield" ability, I\'ve\nimplemented self targeting logic to enable abilities targeted at the caster.')])])]),e._v(" "),n("p",[n("img",{attrs:{src:a(304),alt:"Shield self cast"}})]),e._v(" "),n("h2",{attrs:{id:"next-up"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#next-up","aria-hidden":"true"}},[e._v("#")]),e._v(" Next up")]),e._v(" "),n("ul",[n("li",[n("p",[n("strong",[e._v("Test demo")]),e._v(" - A playable demo designed toward showcasing and testing game\nmechanics on top of the new dedicated server.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("Start map")]),e._v(" - Now that the base mechanics are working well I've begun to\nwork on the starting map, which will contain an introductory cutscene some\nbasic battle situations and the first miniboss."),n("br"),e._v(" "),n("strong",[e._v("God I'm excited.")])])])])])},[],!1,null,null,null);t.default=i.exports}}]);